(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{366:function(e,r,t){"use strict";t.r(r);var s=t(24),a=function(e){e.options.__data__block__={mermaid_382ee187:"graph LR;\n    Internet--\x3eLoadBalancer--\x3eIngress--\x3eplatform-nginx;\n    platform-nginx--\x3eService1;\n    platform-nginx--\x3eService2;\n    platform-nginx--\x3eService3;\n    Ingress--\x3eapi&ui\n"}},n=Object(s.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"infrastructure-services"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#infrastructure-services"}},[e._v("#")]),e._v(" Infrastructure Services")]),e._v(" "),t("p",[e._v("Infrastructures Services are not part of the main platform, but are used by it.")]),e._v(" "),t("h2",{attrs:{id:"edge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#edge"}},[e._v("#")]),e._v(" Edge")]),e._v(" "),t("p",[e._v("Order of requests:")]),e._v(" "),t("ol",[t("li",[e._v("The internet makes requests through a cloud provided load balancer.")]),e._v(" "),t("li",[e._v("That load balancer passes all requests through to the Ingress on Kubernetes.")]),e._v(" "),t("li",[e._v("The Ingress terminates HTTPs and routes requests\na) To a specific se")]),e._v(" "),t("li",[e._v("Based on the path of the request Nginx will route traffic to the appropriate service.")])]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee187",graph:e.$dataBlock.mermaid_382ee187}}),t("h3",{attrs:{id:"ingress"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ingress"}},[e._v("#")]),e._v(" ingress")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://kubernetes.io/docs/concepts/services-networking/ingress/#what-is-ingress",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ingress"),t("OutboundLink")],1),e._v(" is a Kubernetes concept that exposes HTTP and HTTPS routes from outside the cluster to services within the cluster.")]),e._v(" "),t("h3",{attrs:{id:"cert-manager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cert-manager"}},[e._v("#")]),e._v(" cert-manager")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://cert-manager.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cert-manager"),t("OutboundLink")],1),e._v(" provides automate certificate management in Kubernetes.")]),e._v(" "),t("p",[e._v("This is used in conjunction with the ingress.")]),e._v(" "),t("h3",{attrs:{id:"platform-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#platform-nginx"}},[e._v("#")]),e._v(" platform-nginx")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.nginx.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nginx"),t("OutboundLink")],1),e._v(" is used as a reverse proxy layer to perform path based routing to difference services for sites hosted on wbstack.")]),e._v(" "),t("p",[e._v("Requests to platform services such as the main UI or API do not go via this layer.")]),e._v(" "),t("h2",{attrs:{id:"persistence"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#persistence"}},[e._v("#")]),e._v(" Persistence")]),e._v(" "),t("h3",{attrs:{id:"sql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql"}},[e._v("#")]),e._v(" sql")]),e._v(" "),t("p",[e._v("An sql service running MariaDB operates for both the main platform API and MediaWiki sites.")]),e._v(" "),t("h3",{attrs:{id:"redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[e._v("#")]),e._v(" redis")]),e._v(" "),t("p",[e._v("Redis is used by a variety of deployed services.")])],1)}),[],!1,null,null,null);"function"==typeof a&&a(n);r.default=n.exports}}]);